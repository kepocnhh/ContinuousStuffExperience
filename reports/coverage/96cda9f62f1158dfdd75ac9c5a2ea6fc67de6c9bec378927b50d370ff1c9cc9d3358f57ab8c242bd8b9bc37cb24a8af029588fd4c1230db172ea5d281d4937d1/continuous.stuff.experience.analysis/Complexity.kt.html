<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Complexity.kt</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">ContinuousStuffExperience</a> &gt; <a href="index.source.html" class="el_package">continuous.stuff.experience.analysis</a> &gt; <span class="el_source">Complexity.kt</span></div><h1>Complexity.kt</h1><pre class="source lang-java linenums">package continuous.stuff.experience.analysis

private fun verifyComplexCondition(it: String) {
<span class="nc bnc" id="L4" title="All 6 branches missed.">    fun String.hasCorrectEnding() = !endsWith(&quot;foo&quot;) &amp;&amp; !endsWith(&quot;bar&quot;) &amp;&amp; !endsWith(&quot;_&quot;)</span>
//    if (it.startsWith(&quot;foo&quot;) &amp;&amp; !it.endsWith(&quot;foo&quot;) &amp;&amp; !it.endsWith(&quot;bar&quot;) &amp;&amp; !it.endsWith(&quot;_&quot;)) { // complexity:ComplexCondition
<span class="nc bnc" id="L6" title="All 4 branches missed.">    if (it.startsWith(&quot;foo&quot;) &amp;&amp; !it.hasCorrectEnding()) {</span>
<span class="nc" id="L7">        it.hashCode()</span>
    }
<span class="nc" id="L9">}</span>

interface Bad {
<span class="nc" id="L12">    companion object {</span>
<span class="nc" id="L13">        val badStaticDeclaration = &quot;&quot; // todo</span>
    }

    fun badFun() {
<span class="nc" id="L17">        badStaticDeclaration.hashCode()</span>
<span class="nc" id="L18">    } // todo</span>

    //    val s1: String; val s2: String; val s3: String; val s4: String // complexity:ComplexInterface
    val b1: Boolean
    val b2: Boolean
    val b3: Boolean
    val b4: Boolean
}

private fun verifyComplexMethod() {
// complexity:ComplexMethod
// Conditional statements - if, else if, when
// Loops - for, while, do-while, forEach
// Operators &amp;&amp;, ||
// Exceptions - catch, use
// Scope Functions - let, run, with, apply, and also -&gt; Reference
<span class="nc" id="L34">    var r = 0</span>
<span class="nc" id="L35">    val s = &quot;blalba&quot;</span>
//    if(s.startsWith(&quot;a&quot;)) r++ // +1
//    else if (s.endsWith(&quot;b&quot;)) r-- // +2
<span class="nc bnc" id="L38" title="All 2 branches missed.">    for (c in s) { // +1</span>
<span class="nc" id="L39">        when (c) { // +1</span>
//            'b' -&gt; r++ // +1
//            'a' -&gt; r-- // +1
<span class="nc" id="L42">            else -&gt; r *= 0 // +1</span>
        }
    }
//    while (r &gt; 0) r-- // +1
//    do r++ /* +1 */ while (r &lt; 10)
<span class="nc" id="L47">    arrayOf(&quot;foo&quot;, &quot;bar&quot;).forEach { it.hashCode() } // +1</span>
<span class="nc bnc" id="L48" title="All 6 branches missed.">    val b = s.startsWith(&quot;a&quot;) || s.startsWith(&quot;b&quot;) &amp;&amp; s.endsWith(&quot;b&quot;) // +2</span>
<span class="nc" id="L49">    try {</span>
<span class="nc bnc" id="L50" title="All 2 branches missed.">        if (b) throw IllegalStateException() // +1</span>
<span class="nc" id="L51">    } catch (e: Exception) { // +1</span>
<span class="nc" id="L52">        s.hashCode()</span>
<span class="nc" id="L53">    } catch (e: Throwable) {</span>
<span class="nc" id="L54">        s.hashCode()</span>
    }
<span class="nc" id="L56">}</span>

private fun verifyLabeledExpression() {
//    loop@ for (r in arrayOf(&quot;foo&quot;, &quot;bar&quot;)) if (r == &quot;bar&quot;) break@loop // complexity:LabeledExpression

<span class="nc" id="L61">    arrayOf(&quot;foo&quot;, &quot;bar&quot;).forEach {</span>
        //        if(it.startsWith(&quot;f&quot;)) return@forEach // complexity:LabeledExpression
<span class="nc" id="L63">    }</span>

<span class="nc" id="L65">    class Outer {</span>
<span class="nc" id="L66">        inner class Inner {</span>
            //            fun inner() = this@Inner // referencing itself, use `this` instead // complexity:LabeledExpression
<span class="nc" id="L68">            fun Outer.inner() = this@Inner // this would reference Int and not Inner</span>

<span class="nc" id="L70">            fun outer() = this@Outer</span>
        }
    }
<span class="nc" id="L73">}</span>

private fun verifyLargeClass() { // complexity:LargeClass
<span class="nc" id="L76">    class LargeClass { // complexity 14</span>
<span class="nc" id="L77">        val i1 = 1</span>
<span class="nc" id="L78">        val i2 = 2</span>
<span class="nc" id="L79">        val i3 = 3</span>
<span class="nc" id="L80">        val i4 = 4</span>
<span class="nc" id="L81">        val s1 = &quot;1&quot;</span>
<span class="nc" id="L82">        val s2 = &quot;2&quot;</span>
<span class="nc" id="L83">        val s3 = &quot;3&quot;</span>
<span class="nc" id="L84">        val s4 = &quot;4&quot;</span>
<span class="nc bnc" id="L85" title="All 2 branches missed.">        val b1 = i1 % 2 == 0</span>
<span class="nc bnc" id="L86" title="All 2 branches missed.">        val b2 = i2 % 2 == 0</span>
<span class="nc bnc" id="L87" title="All 2 branches missed.">        val b3 = i3 % 2 == 0</span>
<span class="nc bnc" id="L88" title="All 2 branches missed.">        val b4 = i4 % 2 == 0</span>
    }
<span class="nc" id="L90">}</span>

// fun f(i1: Int, i2: Int, i3: Int, i4: Int, s1: String, s2: String) {} // complexity:LongParameterList 6
private fun verifyLongParameterList() {
<span class="nc" id="L94">    fun f(i1: Int, i2: Int, i3: Int, i4: Int, s1: String, s2: String, s3: String, s4: String) {</span>
<span class="nc" id="L95">        &quot;1&quot;.hashCode()</span>
<span class="nc" id="L96">    } // todo</span>
<span class="nc" id="L97">}</span>

private fun verifyMethodOverloading() {
<span class="nc" id="L100">    abstract class MethodOverloading {</span>
        protected abstract fun f(it: String)
        protected abstract fun f(it: Int)
        protected abstract fun f(it: Double)
        protected abstract fun f(s: String, i: Int)
        protected abstract fun f(s: String, d: Double)
        protected abstract fun f(i: Int, d: Double) // complexity:MethodOverloading 6
    }
<span class="nc" id="L108">}</span>

private fun verifyNestedBlockDepth() {
<span class="nc" id="L111">    if (true) {</span>
<span class="nc" id="L112">        if (false) {</span>
            if (true) {
//                if(false) {} // complexity:NestedBlockDepth 4
            }
        }
    }
<span class="nc" id="L118">}</span>

private fun verifyStringLiteralDuplication() {
<span class="nc" id="L121">    val array = arrayOf(&quot;lorem&quot;)</span>
<span class="nc" id="L122">    val list = listOf(&quot;lorem&quot;)</span>
//    val item = &quot;lorem&quot; // complexity:StringLiteralDuplication 3
<span class="nc" id="L124">}</span>
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.4.201905082037</span></div></body></html>